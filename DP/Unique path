class Solution {
    static int dp[][];

    // Recursive function with memoization to count unique paths in a grid
    public int paths(int m,int n){
        // Base case: if we reach starting cell (1,1), only 1 path exists
        if(m==1 && n==1) return 1;

        // If out of grid boundary, no path exists
        if(m==0 || n==0) return 0;

        // If already calculated, return stored value
        if(dp[m][n] != -1) return dp[m][n];

        // Calculate paths by moving up and left
        int rightWays = paths(m-1, n);
        int downWays = paths(m, n-1);

        // Store result and return
        return dp[m][n] = rightWays + downWays;
    }

    // Main function to initialize dp and return total unique paths
    public int uniquePaths(int m, int n) {
        // Initialize dp array with -1 (meaning uncalculated state)
        dp = new int[m+1][n+1];
        for(int i=0; i<=m; i++){
            for(int j=0; j<=n; j++){
                dp[i][j] = -1;
            }
        }

        // Return number of unique paths from (1,1) to (m,n)
        return paths(m,n);
    }
}

//tabulation

class Solution {
    public int numberOfPaths(int m, int n) {
        // Create a 2D dp array where dp[i][j] represents
        // the number of unique paths to reach cell (i, j)
        int dp[][] = new int[m][n];

        // Iterate over all cells of the matrix
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                // Base case: first row or first column
                // There is only one way to reach any cell in first row (all rights)
                // or first column (all downs)
                if (i == 0 || j == 0) {
                    dp[i][j] = 1;
                } else {
                    // For other cells, the number of ways to reach (i, j) is:
                    // ways from the top (i-1, j) + ways from the left (i, j-1)
                    dp[i][j] = dp[i - 1][j] + dp[i][j - 1];
                }
            }
        }

        // The bottom-right cell contains the total number of unique paths
        return dp[m - 1][n - 1];
    }
}

